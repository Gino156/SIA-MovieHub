<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Action Homepage</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css" integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="CSS/actionstyles.css">
</head>

<body style="background-image: url('image/johnwick.jpg');">
  <div class="action-category">
    ACTION CATEGORY
  </div>
  <div class="background-text-container">
    <img src="logo/johnwicklogo.png" alt="Background Image 1" class="background-image" id="bgImage1">
    <img src="logo/guardianlogo.png" alt="Background Image 2" class="background-image" id="bgImage2">
    <img src="logo/taken.png" alt="Background Image 2" class="background-image" id="bgImage3">
    <img src="logo/godizillalogo.png" alt="Background Image 2" class="background-image" id="bgImage4">
    <img src="logo/oppenheimer.png" alt="Background Image 2" class="background-image" id="bgImage5">
    <p class="background-text"></p>
    <div class="star-rating" id="starRating">
      <span></span>
    </div>    

    <button id="uploadButton" type="button">Upload</button>
    <div class="container1">
      <form id="uploadForm" action="save_data.php" method="post" enctype="multipart/form-data">
        <table>  
          <tr>
            <td>
              <p>Insert logo: </p>
            </td>
            <td>
              <div class="file">
                <input type="file" id="logo" name="logo" required>
              </div>
            </td>
          </tr>

          <tr>
            <td>
              <p>Description: </p> 
            </td>
            <td>
              <div class="inputBox">
                <textarea id="description" name="description" required></textarea>
              </div>
            </td>
          </tr>
          <tr>
            <td>
              <p>Poster Picture: </p>
            </td>
            <td>
              <div class="file">
                <input type="file" id="pic" name="pic" required>
              </div>
            </td>
          </tr>
          <tr>
            <td>
              <p>Title:</p>
            </td>
            <td>
              <div class="inputBox">
                <textarea id="title" name="title" required></textarea>
              </div>
            </td>
          </tr>
          <tr>
            <td>
              <p>Release Date:</p>
            </td>
            <td>
              <div class="inputBox">
                <textarea id="release" name="release" required></textarea>
              </div>
            </td>
          </tr>
          <tr>
            <td>
              <p>Director:</p>
            </td>
            <td>
              <div class="inputBox">
                <textarea id="director" name="director" required></textarea>
              </div>
            </td>
          </tr>
          <tr>
            <td>
              <p>Cast:</p>
            </td>
            <td>
              <div class="inputBox">
                <textarea id="cast" name="cast" required></textarea>
              </div>
            </td>
          </tr>
          <tr>
            <td>
              <p>video link:</p>
            </td>
            <td>
              <div class="inputBox">
                <textarea id="link" name="link" required></textarea>
              </div>
            </td>
          </tr>
          <tr>
            <td colspan="2" class="inputBox1">
              <button type="submit">Submit</button>
            </td>
          </tr>
        </table>
      </form>
    </div>
  </div>

  <div class="container">
    <input type="radio" name="slider" class="d-none" id="s1" checked>
    <input type="radio" name="slider" class="d-none" id="s2">
    <input type="radio" name="slider" class="d-none" id="s3">
    <input type="radio" name="slider" class="d-none" id="s4">
    <input type="radio" name="slider" class="d-none" id="s5">

    <div class="cards">
      <label for="s1" id="slide1">
        <div class="card">
          <div class="image">
            <img src="image/johnwick.jpg" alt="">
            <div class="dots">
              <div></div>
              <div></div>
              <div></div>
            </div>
          </div>
          <div class="infos">
            <span class="name">John Wick</span>
            <span class="lorem"><b>Release date: </b> March 24, 2023 <br>
              <b>Director: </b>Chad Stahelski<br>
              <b>Cast: </b>Keanu Reeves | Scott Adkins | Donnie Yen</span>
          </div>
          <a href="/contact" class="btn-contact">Watch Trailer</a>
        </div>
      </label>

      <!-- Add similar labels for other slides (s2 to s5) -->

    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const body = document.body;
      const cards = document.querySelectorAll('.card');
      const backgroundContainer = document.querySelector('.background-text-container');
      const backgroundText = document.querySelector('.background-text');
      const backgroundImages = document.querySelectorAll('.background-image');

      function changeBy(bg, text, imageId) {
        body.style.backgroundImage = `url('${bg}')`;
        backgroundText.textContent = text;

        backgroundImages.forEach(image => {
          image.style.display = 'none';
        });

        const selectedImage = document.getElementById(imageId);
        if (selectedImage) {
          selectedImage.style.display = 'block';
        }
      }

      changeBy('image/johnwick.jpg', 'With the price on his head ever increasing, legendary hit man John Wick takes his fight against the High Table global as he seeks out the most powerful players in the underworld, from New York to Paris to Japan to Berlin.', 'bgImage1');

      cards.forEach((card, index) => {
        card.addEventListener('click', function () {
          const imagePath = this.querySelector('img').getAttribute('src');
          let newText = '';
          let imageId = '';

          switch (index) {
            case 0:
              newText = "With the price on his head ever increasing, legendary hit man John Wick takes his fight against the High Table global as he seeks out the most powerful players in the underworld, from New York to Paris to Japan to Berlin.";
              imageId = 'bgImage1';
              break;
            // Add cases for other slides (1 to 4)
          }

          changeBy(imagePath, newText, imageId);
        });
      });

      function showForm() {
        const form = document.getElementById('uploadForm');
        form.style.display = 'block';
      }

      const uploadButton = document.getElementById('uploadButton');
      if (uploadButton) {
        uploadButton.addEventListener('click', showForm);
      }

      document.getElementById('uploadForm').addEventListener('submit', function (event) {
    event.preventDefault();

    fetch('save_data.php', {
        method: 'POST',
        body: new FormData(this),
    })
    .then(response => response.json())  // Parse response as JSON
    .then(data => {
        console.log(data);

        // Check if the response contains any HTML indicating an error
        if (data.hasOwnProperty('error')) {
            console.error('Error in response:', data.error);
            // Handle the error here, show a user-friendly message, etc.
        } else {
            // Process the response as needed
            // Example: Update background image and card content with the latest data
            changeBy(data.pic, data.description, 'bgImage1');
            // You can add similar updates for other elements based on your requirements
        }
    })
    .catch(error => console.error('Error saving data:', error));
});


    });
  </script>

</body>

</html>
